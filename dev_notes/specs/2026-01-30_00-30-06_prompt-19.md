Think about a particular change an agent can do on a source tree like: “upgrade a library and
work through building and testing this service against that library”.

Think about that in terms of autonomous execution of a given prompt within a separate agentic session based on that worktree directory.

Think about reusable agentic prompts which e.g. instruct the agent to “commit their work” at the end of their session, but only after validating regression tests succeed, and after applying other quality measures.

Something like a python script would need to:
- choose a temporary directory
- choose a branch name (guid? sequence? timestamp+keywords?)
- create a branch, create worktree (maybe not in that order?)
- within a subshell (or with pushd/popd semantics?), chdir into that directory
  - figure out how to inject system prompts and other metadata into that temporary directory?
  - run the oneshot worker/auditor engine, or whatever agent cli with --yolo etc.
- examine/collect uncommitted files from the temporary directory
- somehow pull or push the worktree commits back into the original directory’s repository with the correct branch name -- or push correct branch upstream and create pull request?
- delete the worktree
- perhaps automatically, perhaps after human review, or perhaps through github pull request, etc. merge that branch into the main branch.

Does the git worktree have its own copy of the git repo? or is it more like a reference to the only git repository a la git submodules?  Let me know if some of my steps don’t make sense or require clarification.

I guess from Jenkins CI/CD, the “temporary directory” and matters involving git checkout and pull request and other credentials are already managed -- but some of this workflow may still be advantageous in a CI/CD context. The isolation features of this tool can be made optional and be skipped, such that the first steps performed are what happens after “chdir into that directory”, and maybe this tool can package up uncommitted files as a zip artifact the CI/CD system picks up in a specific directory.

Read through the entire session to have a strong understanding of what oneshot is and what it does.

Then, talk to me about several topics:
- what open source products or projects already support these features? would i be reinventing a wheel?
- does it make sense to add this feature to oneshot? or does it make better sense to create a separate application which just supports oneshot?
- what would be a good name for such a tool?
- what other features might a tool like this have?

Write all of this to ./tmp/worktree-context.md and summarize to me.
